hrow new TypeError((null!==t&&typeof t||t)+" is not observable")}n.d(e,"a",(function(){return l}))},311:function(t,e,n){"use strict";n.d(e,"b",(function(){return f})),n.d(e,"c",(function(){return d})),n.d(e,"a",(function(){return p}));var r=n(45),i=n(14),o=n(35),c=n(6),s=n(13),a=n(126),u=n(339);const l=s.a.create("extension-api.message.bg"),f="popup";function d(){if((Object(i.l)()||Object(i.n)())&&(!chrome.extension||!chrome.tabs||!chrome.runtime||!chrome.runtime.onConnect)){const t=window.localStorage.getItem("bgInitFail")||"0",e=parseInt(t,10);e>4?l.error(`too many bgInitFail ${e}`):(window.localStorage.setItem("bgInitFail",(e+1).toString()),document.location.reload())}}function h(t){if(!t)return!1;const{browser:e}=r.a().bundleInfo,n="firefox"===e?/^moz-extension:\/\/.*\/src\/popup.html$/:"chrome"===e||"edge"===e?chrome&&chrome.runtime&&chrome.runtime.id?new RegExp(chrome.runtime.id+"/src/popup.html"):void 0:Object(c.g)(e);return void 0!==n&&n.test(t)}class p{constructor(t,e,n){this._getActiveTab=e,this._getAllTabs=n,this.kind="background-message-api",this.topFrameId="0",this._callbacks={},this._tabPorts={popup:[]},this._messageHelper=new u.a,this._sendMessageToPorts=(t,e)=>{const n=this._tabPorts[t];n&&n.forEach(t=>t.postMessage(e))},this.toFocused=(t,e)=>this._getActiveTab().then(({id:n,url:r})=>{if(n)return h(r)?l.warn(`toFocussed not allowed for popup when it open like regular tab ${t}`,e):void this._sendMessageToPorts(n.toString(),{type:t,content:e,callid:Object(o.q)()})}),this.broadcast=(t,e)=>{if(!e)return;const n=({id:n,url:r})=>{n&&r&&-1===r.indexOf("chrome-extension:")&&this._sendMessageToPorts(n.toString(),{type:t,callid:Object(o.q)(),content:e})};this._getAllTabs().then(t=>t.forEach(n)),this._tabPorts.popup&&this._tabPorts.popup.length&&this._getActiveTab().then(({url:t})=>{n({id:f,url:t})})},this._initPortListener=t=>{if(t.name===a.b.bridge)t.onMessage(t=>{"message.toFocussed"===t.method&&this.toFocused(t.params&&t.params.type,t.params&&t.params.content)});else if(t.name===a.b.broadcast)t.onMessage(t=>this.broadcast(t.type,t.content));else if(t.name===a.b.background){const{sender:e}=t;if(e){if(e.tab){const{id:n,url:r}=e.tab;if(n){let e=this._tabPorts[n];void 0===e&&(e=this._tabPorts[n]=[]),e.push(t)}r&&0===r.indexOf("http")&&this._messageHelper.fire("tab-connected",{tab:n,url:r}),t.onDisconnect(()=>{if(!n)return;const e=this._tabPorts[n];e&&e.splice(e.indexOf(t),1)})}const n=e.url?e.url:e.tab?e.tab.url:"";if(n&&h(n)){const e=f;this._tabPorts[e]=this._tabPorts[e]||[],this._tabPorts[e].push(t),t.onDisconnect(()=>{const n=this._tabPorts[e];n.splice(n.indexOf(t),1)})}}t.onMessage(n=>{const r=({callid:n,content:r,type:i})=>{this._callbacks[n]&&(this._callbacks[n](r),delete this._callbacks[n]);this._messageHelper.fire(i,r,e=>t.postMessage({content:e,callid:n}),e&&e.tab?{tabId:String(e.tab.id),frameId:void 0===e.frameId?void 0:String(e.frameId)}:-1)};"tab-connected"===n.type?this._getActiveTab().then(({url:t})=>{n.content={tab:f,url:t},r(n)}):r(n)})}},t(this._initPortListener)}getPortExists(t){return!!this._tabPorts[t]}sendTo(t,e,n,r,i,c){var s;const{tabId:a,frameId:u=null}="object"==typeof t?t:{tabId:String(t)},l=null===(s=this._tabPorts[a])||void 0===s?void 0:s.filter(t=>null===u||void 0!==t.sender.frameId&&String(t.sender.frameId)===u);if(!l||!l.length)return void(i&&i({message:"no ports on specified destination"}));const f=c?l.filter(t=>c(t.sender&&t.sender.url)):l;if(!f.length)return void(i&&i({message:"no ports on specified tabFilter"}));const d={type:e,content:n};r&&"function"==typeof r&&(d.callid=Object(o.q)(),this._callbacks[d.callid]=r),f.forEach(t=>t.postMessage(d))}listen(t,e){this._messageHelper.listen(t,e)}}},314:function(t,e,n){"use strict";n.d(e,"a",(function(){return a})),n.d(e,"e",(function(){return d})),n.d(e,"d",(function(){return h})),n.d(e,"c",(function(){return p})),n.d(e,"b",(function(){return b}));var r=n(21),i=n(70),o=n(44),c=n(6),s=n(43);class a{constructor(t,e,n=c.c.create(),i=t){this._rpcMessageName=t,this._message=e,this._clientId=n,this._inboundMessageName=i,this.inbound=new r.a(t=>{const e=e=>{e.clientId===this._clientId&&t.next(e.data)};return this._message.on(this._inboundMessageName,e),()=>this._message.off(this._inboundMessageName,e)}),this.outbound=t=>{this._message.emitBackground(this._rpcMessageName,{clientId:this._clientId,data:t})}}}function u(t,e=c.c.create()){return{inbound:t.inbound.pipe(Object(i.a)(t=>t.clientId===e),Object(o.a)(t=>t.data)),outbound(n){t.outbound({clientId:e,data:n})}}}function l(t,e){return{inbound:t.inbound,outbound(n){t.outbound({connectionId:e,data:n})}}}function f(t,e){return{inbound:new r.a(e=>{function n(t){e.next(t)}return s.on(t,n),()=>s.off(t,n)}),outbound(t){s.emitBackground(e,t)}}}function d(t,e=t+"-response"){return f(t,e)}function h(t,e,n=t+"-response"){return l(f(t+"-"+e,n),e)}function p(t,e=t+"-response"){return u(f(e,t))}function b(t,e,n=t+"-response"){return u(l(f(n+"-"+e,t),e))}},32:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=n(3),i=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r.__extends(e,t),e.prototype.notifyNext=function(t,e,n,r,i){this.destination.next(e)},e.prototype.notifyError=function(t,e){this.destination.error(t)},e.prototype.notifyComplete=function(t){this.destination.complete()},e}(n(15).a)},329:function(t,e,n){"use strict";n.d(e,"a",(function(){return u})),n.d(e,"b",(function(){return l}));var r=n(35),i=n(88),o=n(13),c=n(126),s=n(339);const a=o.a.create("Messaging.extension-api.content");class u{constructor(t){this.kind="content-script-message-api",this._callbacks={},this._messageHelper=new s.a,this._disconnected=!1,this.broadcastBackground=(...t)=>this._emit(this.backgroundPort,"bg").apply(null,t),this.broadcast=(...t)=>this._emit(this.broadcastPort,"tabs").apply(null,t),this._onPortMessage=t=>{a.trace("portMessage",t)},this._emit=(t,e)=>(n,i,o,c)=>{const s=Object(r.q)();o&&"function"==typeof o&&(this._callbacks[s]=o);try{if(!t)throw new Error("lost connection to "+e+" port");t.postMessage({type:n,callid:s,content:i})}catch(t){if(!c)throw t;c(t)}},this._onBgPortMessage=({callid:t,content:e,type:n})=>{this._callbacks[t]?(this._callbacks[t](e),delete this._callbacks[t]):this._messageHelper.fire(n,e,e=>{if(!this.backgroundPort)throw new Error("fail reply to bg page - connection lost");this.backgroundPort.postMessage({content:e,callid:t})})},this.port=t(c.b.bridge),this.port.onMessage(this._onPortMessage),this.port.onDisconnect(()=>{this.port=null,this._onDisconnect()}),this.backgroundPort=t(c.b.background),this.backgroundPort.onMessage(this._onBgPortMessage),this.backgroundPort.onDisconnect(()=>{this.backgroundPort=null,this._onDisconnect()}),this.broadcastPort=t(c.b.broadcast),this.broadcastPort.onDisconnect(()=>{this.broadcastPort=null,this._onDisconnect()})}onBackgroundPortReconnect(t){this.backgroundPort&&this.backgroundPort.onReconnect&&this.backgroundPort.onReconnect(t)}listen(t,e){this._messageHelper.listen(t,e)}toFocused(t,e){return i.a.create(n=>{if(!this.port)throw new Error("lost connection to bg page");this.port.postMessage({method:"message.toFocussed",params:{type:t,content:e}}),n()})}_onDisconnect(){this._disconnected||(this._disconnected=!0,a.trace("Content script messaging went disconnected."),this._messageHelper.fire("contentScript-disconnected",null))}}function l(){window.addEventListener("update-window-size-gr",t=>{const e=document.createElement("div");if(e.style.height="1px",t.detail&&t.detail.force){const t=setInterval((function(){document.body.appendChild(e),setTimeout(()=>{e.parentNode&&e.parentNode.removeChild(e)},10)}),100);setTimeout(()=>clearInterval(t),405)}},!1),window.addEventListener("close-popup-gr",()=>{window.close()},!1)}},331:function(t,e,n){"use strict";n.d(e,"a",(function(){return o})),n.d(e,"b",(function(){return c}));var r=n(81);class i{constructor(t){this.name=t,this._isError=t=>{const e=t;return e&&(void 0!==e.message&&void 0!==e.name||void 0!==e.stack)}}trace(t,e,n){this._logMessage(r.a.TRACE,t,e,n)}debug(t,e,n){this._logMessage(r.a.DEBUG,t,e,n)}info(t,e,n){this._logMessage(r.a.INFO,t,e,n)}warn(t,e,n){this._logMessage(r.a.WARN,t,e,n)}error(t,e,n){this._logMessage(r.a.ERROR,t,e,n)}fatal(t,e,n){this._logMessage(r.a.FATAL,t,e,n)}_logMessage(t,e,n,r){const i={level:t,loggerName:this.name,message:e,timestamp:new Date};n&&(this._isError(n)?i.exception=n:i.data=n),i.data=i.data||r,this.handleEvent(i)}}class o{constructor(t,e){this.name=t,this._createLogger=e}trace(t,e,n){void 0===this._logger&&(this._logger=this._createLogger(this.name)),this._logger.trace(t,e,n)}debug(t,e,n){void 0===this._logger&&(this._logger=this._createLogger(this.name)),this._logger.debug(t,e,n)}info(t,e,n){void 0===this._logger&&(this._logger=this._createLogger(this.name)),this._logger.info(t,e,n)}warn(t,e,n){void 0===this._logger&&(this._logger=this._createLogger(this.name)),this._logger.warn(t,e,n)}error(t,e,n){void 0===this._logger&&(this._logger=this._createLogger(this.name)),this._logger.error(t,e,n)}fatal(t,e,n){void 0===this._logger&&(this._logger=this._createLogger(this.name)),this._logger.fatal(t,e,n)}}class c extends i{constructor(t,e){super(t),this._config=e}handleEvent(t){this._config.filterFn(t)&&this._config.writer.write(t)}}},332:function(t,e,n){"use strict";var r="object"==typeof global&&global&&global.Object===Object&&global;e.a=r},333:function(t,e,n){"use strict";e.a=function(t,e){return function(n){return t(e(n))}}},334:function(t,e,n){"use strict";e.a=function(t,e){for(var n=-1,r=null==t?0:t.length;++n<r&&!1!==e(t[n],n,t););return t}},335:function(t,e,n){"use strict";var r=n(388),i=n(240);e.a=function(t,e){return t&&Object(r.a)(t,e,i.a)}},336:function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));var r=function(t){return function(e){for(var n=0,r=t.length;n<r&&!e.closed;n++)e.next(t[n]);e.complete()}}},337:function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));var r=function(t){return t&&"number"==typeof t.length&&"function"!=typeof t}},338:function(t,e,n){"use strict";function r(t){return!!t&&"function"!=typeof t.subscribe&&"function"==typeof t.then}n.d(e,"a",(function(){return r}))},339:function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));const r=n(13).a.create("extension-api.message"),i=()=>{};class o{constructor(){this._listeners={},this._queue={},this.fire=(t,e,n=i,r)=>{const o=this._listeners[t]||[];o.length?o.forEach(t=>t(e,n,r)):(this._queue[t]=this._queue[t]||[],this._queue[t].push({content:e,callback:n,sender:r}))},this.unlisten=(t,e)=>{const n=this._listeners[t]||[],r=n.indexOf(e);-1!==r&&(1===n.length?delete this._listeners[t]:n.splice(r,1))},this.listenOnce=(t,e)=>{const n=(r,i,o)=>{this.unlisten(t,n),e&&e(r,i,o)};this.listen(t,n)},this.listen=(t,e)=>{this._listeners[t]=this._listeners[t]||[],-1===this._listeners[t].indexOf(e)&&this._listeners[t].push(e);const n=this._queue[t]||[];if(n.length){for(const t of n)try{e(t.content,t.callback,t.sender)}catch(t){r.error("exception during proccesing buffered messages",t)}delete this._queue[t]}}}}},341:function(t,e,n){"use strict";n.d(e,"e",(function(){return r})),n.d(e,"g",(function(){return i})),n.d(e,"f",(function(){return o})),n.d(e,"b",(function(){return c})),n.d(e,"a",(function(){return s})),n.d(e,"d",(function(){return a})),n.d(e,"c",(function(){return u}));let r=["The G logo gets out of the way when you're typing","Switch between American, British, Australian, and Canadian English","Quickly disable checking in certain types of text fields","A fully redesigned and improved interface"],i=["id","email","firstName","anonymous","type","subscriptionFree","experiments","isTest","premium","settings","registrationDate","mimic","groups","extensionInstallDate","fixed_errors","edc","institutionInfo"];i.push("token");const o=["data-gramm_editor","data-gramm","data-gramm_id","gramm_editor","readonly","disabled"],c=["pm-container",{name:"class",value:"ProseMirror"},"data-synchrony",{name:"data-gramm",value:"false"},{name:"data-enable-grammarly",value:"false"},{name:"aria-label",value:"Search Facebook"},{name:"class",value:"redactor-layer",overrideExperimentFieldName:"enableRedactorEditor"},{name:"class",value:"redactor-editor",overrideExperimentFieldName:"enableRedactorEditor"},{name:"class",value:"redactor_box",overrideExperimentFieldName:"enableRedactorEditor"}],s=[...o,...c],a={name:"data-enable-grammarly",value:"true"},u=["changed-user","changed-plan","changed-dialect","cleanup","editor-fix"]},342:function(t,e,n){"use strict";var r=n(111),i=n(75),o=Object(r.a)(i.a,"DataView"),c=n(181),s=Object(r.a)(i.a,"Promise"),a=Object(r.a)(i.a,"Set"),u=Object(r.a)(i.a,"WeakMap"),l=n(99),f=n(165),d=Object(f.a)(o),h=Object(f.a)(c.a),p=Object(f.a)(s),b=Object(f.a)(a),g=Object(f.a)(u),v=l.a;(o&&"[object DataView]"!=v(new o(new ArrayBuffer(1)))||c.a&&"[object Map]"!=v(new c.a)||s&&"[object Promise]"!=v(s.resolve())||a&&"[object Set]"!=v(new a)||u&&"[object WeakMap]"!=v(new u))&&(v=function(t){var e=Object(l.a)(t),n="[object Object]"==e?t.constructor:void 0,r=n?Object(f.a)(n):"";if(r)switch(r){case d:return"[object DataView]";case h:return"[object Map]";case p:return"[object Promise]";case b:return"[object Set]";case g:return"[object WeakMap]"}return e});e.a=v},35:function(t,e,n){"use strict";n(14),n(334),n(386),n(335),n(387),n(295),n(58),n(156),n(172),n(66),n(171);var r=n(564);function i(){return window.chrome&&window.chrome.runtime&&window.chrome.runtime.lastError}function o(t,e){const n=o.items=o.items||{},r=n[t];if(r||e){if(r&&!e)return clearTimeout(r),void delete n[t];!function(){function r(){i(),t()}function i(){const i=setTimeout(r,e);n[t]=i}i()}()}}function c(){return(65536*(1+Math.random())|0).toString(16).substring(1)}function s(){return c()+c()+"-"+c()+"-"+c()+"-"+c()+"-"+c()+c()+c()}function a(t){let e=0;const n=t.length;let r,i;for(let o=0;o<n;o++)r=t.charCodeAt(o),r>=55296&&r<57344&&r<56320&&o+1<n&&(i=t.charCodeAt(o+1),i>=56320&&i<57344)?(e+=4,o++):e+=r<128?1:r<2048?2:3;return e}function u(t,e){let n=e,r=0;const i=[];for(;t[n];)if(" "===t[n++])i.push(t.substring(r,n)),r=n,n+=e;else{let o=n;do{if(" "===t.substring(o-1,o)){i.push(t.substring(r,o)),r=o,n=o+e;break}o--}while(o>r)}return i.push(t.substr(r)),i}function l(){}function f(){return!0}function d(t,e){return e[1==t?0:1]}function h(t,e,n){const r={};return function(){const i="_memoize_"+(e?e.apply(this,arguments):arguments[0]);return window.hasOwnProperty.call(r,i)?r[i]:(n&&setTimeout(()=>{delete r[i]},n),r[i]=t.apply(this,arguments))}}function p(t,e){return Math.floor(Math.random()*(e-t+1))+t}function b(t){return new Promise(e=>setTimeout(e,t))}n.d(e,"h",(function(){return i})),n.d(e,"q",(function(){return s})),n.d(e,"g",(function(){return a})),n.d(e,"i",(function(){return u})),n.d(e,"e",(function(){return l})),n.d(e,"d",(function(){return f})),n.d(e,"l",(function(){return d})),n.d(e,"s",(function(){return h})),n.d(e,"p",(function(){return p})),n.d(e,"m",(function(){return b})),n.d(e,"o",(function(){return v})),n.d(e,"k",(function(){return m})),n.d(e,"u",(function(){return y})),n.d(e,"f",(function(){return _})),n.d(e,"j",(function(){return w})),n.d(e,"t",(function(){return j})),n.d(e,"r",(function(){return O})),n.d(e,"c",(function(){return x})),n.d(e,"b",(function(){return E})),n.d(e,"a",(function(){return A})),n.d(e,"n",(function(){return S})),function(t){t.items={}}(o||(o={}));const g=["January","February","March","April","May","June","July","August","September","October","November","December"];function v(t){if(!t)return;const e=new Date(t);return"Invalid Date"!==e.toString()?g[e.getMonth()]+" "+e.getDate()+", "+e.getFullYear():void 0}function m(t){const e=function(){};return e.prototype=t(),e}function y(t="",e=""){function n(t){return t.split(".").map(t=>Number(t)||0)}const r=n(t),i=n(e),o=Array(Math.abs(r.length-i.length)).fill(0);if(r.length>i.length?i.push(...o):r.push(...o),r.every((t,e)=>t===i[e]))return 0;for(let t=0,e=r.length;t<e;t++){if(r[t]>i[t])return 1;if(r[t]<i[t])return-1}return-1}function _(t,e=10){setTimeout(t,e)}function w({buffered:t=!0}={}){const e=[],n=[];return{take:function(){return e.length?Promise.resolve(e.shift()):new Promise(t=>n.push(t))},put:function(r){if(n.length>0){n.shift()(r)}else t?e.push(r):e[0]=r}}}function j(t,e=100){if(!t)return NaN;const n=r.createHash("superfasthash");return parseInt(n.hash(t),16)%e}function O(t){return t.which||t.charCode||t.keyCode||0}new RegExp(String.fromCharCode(160),"g"),String.fromCharCode(160),new RegExp("\n"+String.fromCharCode(32),"g");const x=1e3,E=60*x,A=27;function S(t){return t.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")}},351:function(t,e,n){"use strict";function r(t){for(var e,n=[];!(e=t.next()).done;)n.push(e.value);return n}function i(t,e){return Object.prototype.hasOwnProperty.call(e,t)}function o(t,e){return t===e?0!==t||1/t==1/e:t!=t&&e!=e}Object.defineProperty(e,"__esModule",{value:!0});var c,s,a,u,l=function(){var t=Object.prototype.toString;return"[object Arguments]"===t.call(arguments)?function(e){return"[object Arguments]"===t.call(e)}:function(t){return i("callee",t)}}(),f=(c=!{toString:null}.propertyIsEnumerable("toString"),s=["constructor","valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"],a=function(){return arguments.propertyIsEnumerable("length")}(),u=function(t,e){for(var n=0;n<t.length;){if(t[n]===e)return!0;n+=1}return!1},"function"!=typeof Object.keys||a?function(t){if(Object(t)!==t)return[];var e,n,r=[],o=a&&l(t);for(e in t)!i(e,t)||o&&"length"===e||(r[r.length]=e);if(c)for(n=s.length-1;n>=0;)i(e=s[n],t)&&!u(r,e)&&(r[r.length]=e),n-=1;return r}:function(t){return Object(t)!==t?[]:Object.keys(t)});function d(t){return null===t?"Null":void 0===t?"Undefined":Object.prototype.toString.call(t).slice(8,-1)}e.equals=function t(e,n,c,s){if(void 0===c&&(c=[]),void 0===s&&(s=[]),o(e,n))return!0;if(d(e)!==d(n))return!1;if(null==e||null==n)return!1;if("function"==typeof e.equals||"function"==typeof n.equals)return"function"==typeof e.equals&&e.equals(n)&&"function"==typeof n.equals&&n.equals(e);switch(d(e)){case"Arguments":case"Array":case"Object":if("function"==typeof e.constructor&&"Promise"===(a=e.constructor,null==(u=String(a).match(/^function (\w*)/))?"":u[1]))return e===n;break;case"Boolean":case"Number":case"String":if(typeof e!=typeof n||!o(e.valueOf(),n.valueOf()))return!1;break;case"Date":if(!o(e.valueOf(),n.valueOf()))return!1;break;case"Error":return e.name===n.name&&e.message===n.message;case"RegExp":if(e.source!==n.source||e.global!==n.global||e.ignoreCase!==n.ignoreCase||e.multiline!==n.multiline||e.sticky!==n.sticky||e.unicode!==n.unicode)return!1;break;case"Map":case"Set":if(!t(r(e.entries()),r(n.entries()),c,s))return!1;break;case"Int8Array":case"Uint8Array":case"Uint8ClampedArray":case"Int16Array":case"Uint16Array":case"Int32Array":case"Uint32Array":case"Float32Array":case"Float64Array":case"ArrayBuffer":break;default:return!1}var a,u,l=f(e);if(l.length!==f(n).length)return!1;for(var h=c.length-1;h>=0;){if(c[h]===e)return s[h]===n;h-=1}for(c.push(e),s.push(n),h=l.length-1;h>=0;){var p=l[h];if(!i(p,n)||!t(n[p],e[p],c,s))return!1;h-=1}return c.pop(),s.pop(),!0}},352:function(t,e,n){"use strict";function r(t,e){const n={};return Object.keys(e).forEach(r=>n[r]=t(r,e[r])),n}function i(t,e){const n={};return Object.keys(e).forEach(r=>{t(r,e[r])&&(n[r]=e[r])}),n}function o(t){return Object.keys(t).map(e=>t[e])}function c(t){return Object.keys(t).map(e=>[e,t[e]])}function s(t){const e={};for(const[n,r]of t)e[n]=r;return e}function a(t,e){return e.map(e=>t[e])}n.r(e),n.d(e,"map",(function(){return r})),n.d(e,"filter",(function(){return i})),n.d(e,"values",(function(){return o})),n.d(e,"pairs",(function(){return c})),n.d(e,"create",(function(){return s})),n.d(e,"pluck",(function(){return a})),n.d(e,"isObject",(function(){return u})),n.d(e,"deepMerge",(function(){return l}));const u=t=>t===Object(t)&&!Array.isArray(t),l=(t,...e)=>{if(!e.length)return t;const n=t;if(u(n)){const t=e.length;for(let r=0;r<t;r+=1){const t=e[r];if(u(t))for(const e in t)t.hasOwnProperty(e)&&(u(t[e])?(n[e]&&u(n[e])||(n[e]={}),l(n[e],t[e])):Array.isArray(n[e])&&Array.isArray(t[e])?n[e]=Array.from(new Set(n[e].concat(t[e]))):n[e]=t[e])}}return n}},355:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=n(3),i=function(t){function e(e,n){var r=t.call(this)||this;return r.subject=e,r.subscriber=n,r.closed=!1,r}return r.__extends(e,t),e.prototype.unsubscribe=function(){if(!this.closed){this.closed=!0;var t=this.subject,e=t.observers;if(this.subject=null,e&&0!==e.length&&!t.isStopped&&!t.closed){var n=e.indexOf(this.subscriber);-1!==n&&e.splice(n,1)}}},e}(n(42).a)},356:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=n(81);class i{constructor(){this._writeFunc=i._commonWriteFunc}write(t){try{const e=[`grm ${t.level} 【${t.loggerName}】░░ ${t.message}`];t.data&&e.push(t.data),t.exception&&e.push(t.exception),this._writeFunc[t.level].apply(null,e)}catch(t){}}}i._commonWriteFunc={[r.a.TRACE]:console.log.bind(console),[r.a.DEBUG]:console.log.bind(console),[r.a.INFO]:console.info.bind(console),[r.a.WARN]:console.warn.bind(console),[r.a.ERROR]:console.error.bind(console),[r.a.FATAL]:console.error.bind(console)}},359:function(t,e,n){"use strict";var r;n.d(e,"a",(function(){return r})),function(t){t.isSubscribe=t=>"action"in t.data&&"subscribe"===t.data.action,t.isUnsubscribe=t=>"action"in t.data&&"unsubscribe"===t.data.action,t.isDispose=t=>"action"in t.data&&"dispose"===t.data.action,t.isPong=t=>"pong"in t.data,t.isPing=t=>"ping"in t.data,t.isObservableResult=t=>"subscribableId"in t}(r||(r={}))},369:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=n(149);function i(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return function(e){return e.lift.call(r.a.apply(void 0,[e].concat(t)))}}},371:function(t,e,n){"use strict";var r=n(294);e.a=function(t,e,n){var i=null==t?void 0:Object(r.a)(t,e);return void 0===i?n:i}},378:function(t,e){t.exports=function(t){if(!t.webpackPolyfill){var e=Object.create(t);e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),Object.defineProperty(e,"exports",{enumerable:!0}),e.webpackPolyfill=1}return e}},384:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=n(81);const i=t=>e=>Object(r.b)(e.level)>=Object(r.b)(t)},385:function(t,e,n){"use strict";e.a=function(t,e){for(var n=-1,r=null==t?0:t.length,i=Array(r);++n<r;)i[n]=e(t[n],n,t);return i}},386:function(t,e,n){"use strict";var r=n(66),i=Object.create,o=function(){function t(){}return function(e){if(!Object(r.a)(e))return{};if(i)return i(e);t.prototype=e;var n=new t;return t.prototype=void 0,n}}();e.a=o},387:function(t,e,n){"use strict";var r=n(200),i=n(242),o=1,c=2;var s=function(t,e,n,s){var a=n.length,u=a,l=!s;if(null==t)return!u;for(t=Object(t);a--;){var f=n[a];if(l&&f[2]?f[1]!==t[f[0]]:!(f[0]in t))return!1}for(;++a<u;){var d=(f=n[a])[0],h=t[d],p=f[1];if(l&&f[2]){if(void 0===h&&!(d in t))return!1}else{var b=new r.a;if(s)var g=s(h,p,d,t,e,b);if(!(void 0===g?Object(i.a)(p,h,o|c,s,b):g))return!1}}return!0},a=n(66);var u=function(t){return t==t&&!Object(a.a)(t)},l=n(240);var f=function(t){for(var e=Object(l.a)(t),n=e.length;n--;){var r=e[n],i=t[r];e[n]=[r,i,u(i)]}return e};var d=function(t,e){return function(n){return null!=n&&(n[t]===e&&(void 0!==e||t in Object(n)))}};var h=function(t){var e=f(t);return 1==e.length&&e[0][2]?d(e[0][0],e[0][1]):function(n){return n===t||s(n,t,e)}},p=n(371);var b=function(t,e){return null!=t&&e in Object(t)},g=n(296),v=n(190),m=n(58),y=n(239),_=n(237),w=n(167);var j=function(t,e,n){for(var r=-1,i=(e=Object(g.a)(e,t)).length,o=!1;++r<i;){var c=Object(w.a)(e[r]);if(!(o=null!=t&&n(t,c)))break;t=t[c]}return o||++r!=i?o:!!(i=null==t?0:t.length)&&Object(_.a)(i)&&Object(y.a)(c,i)&&(Object(m.a)(t)||Object(v.a)(t))};var O=function(t,e){return null!=t&&j(t,e,b)},x=n(238),E=1,A=2;var S=function(t,e){return Object(x.a)(t)&&u(e)?d(Object(w.a)(t),e):function(n){var r=Object(p.a)(n,t);return void 0===r&&r===e?O(n,t):Object(i.a)(e,r,E|A)}},C=n(217);var k=function(t){return function(e){return null==e?void 0:e[t]}},I=n(294);var P=function(t){return function(e){return Object(I.a)(e,t)}};var T=function(t){return Object(x.a)(t)?k(Object(w.a)(t)):P(t)};e.a=function(t){return"function"==typeof t?t:null==t?C.a:"object"==typeof t?Object(m.a)(t)?S(t[0],t[1]):h(t):T(t)}},388:function(t,e,n){"use strict";var r=function(t){return function(e,n,r){for(var i=-1,o=Object(e),c=r(e),s=c.length;s--;){var a=c[t?s:++i];if(!1===n(o[a],a,o))break}return e}}();e.a=r},389:function(t,e,n){"use strict";var r=function(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r},i=n(190),o=n(58),c=n(156),s=n(239),a=n(171),u=Object.prototype.hasOwnProperty;e.a=function(t,e){var n=Object(o.a)(t),l=!n&&Object(i.a)(t),f=!n&&!l&&Object(c.a)(t),d=!n&&!l&&!f&&Object(a.a)(t),h=n||l||f||d,p=h?r(t.length,String):[],b=p.length;for(var g in t)!e&&!u.call(t,g)||h&&("length"==g||f&&("offset"==g||"parent"==g)||d&&("buffer"==g||"byteLength"==g||"byteOffset"==g)||Object(s.a)(g,b))||p.push(g);return p}},41:function(t,e,n){"use strict";n(771),n(58);var r=n(66);n(99),n(94);n.d(e,"e",(function(){return i})),n.d(e,"a",(function(){return o})),n.d(e,"k",(function(){return c})),n.d(e,"d",(function(){return s})),n.d(e,"j",(function(){return a})),n.d(e,"f",(function(){return u})),n.d(e,"g",(function(){return l})),n.d(e,"h",(function(){return f})),n.d(e,"i",(function(){return h})),n.d(e,"b",(function(){return p})),n.d(e,"l",(function(){return b})),n.d(e,"c",(function(){return g}));function i(t,e){return!(!t||void 0===t.className)&&t.classList.contains(e)}function o(t,e){if(t){if(-1===e.indexOf(" "))return t.classList.add(e);{const n=e.split(" ");for(let e=0;e<n.length;e++)t.classList.add(n[e])}}}function c(t,e,n){e?o(t,n):function(t,e){if(t&&t.classList)t.classList.remove(e)}(t,n)}function s(t,e){let n=t.parentNode;for(;null!==n;){if(l(n,e))return n;n=n.parentNode}return!1}function a(t){let e=t.parentNode;for(;null!==e;){if(u(e))return e;e=e.parentNode}return!1}function u(t){return"true"===t.contentEditable||"plaintext-only"===t.contentEditable}function l(t,e){if(!t)return!1;const n=t.matches||t.msMatchesSelector||t.matchesSelector||t.webkitMatchesSelector||t.mozMatchesSelector;return!!n&&n.apply(t,[e])}function f(t,e=null,n){return this.addEventListener(t,e,n),{off:()=>d.apply(this,[t,e,n])}}function d(t,e,n){this.removeEventListener(t,e||null,n)}function h(t,e){const n=r=>{e(r),d.call(this,t,n)};f.call(this,t,n)}function p(...t){return t.reduce((t,e)=>t.concat(Object(r.a)(e)?Object.keys(e).filter(t=>e[t]):e),[]).filter(t=>Boolean(t)).join(" ")}function b(t=document){if(void 0===t.body.style.transform){if(void 0!==t.body.style.WebkitTransform)return"WebkitTransform";if(void 0!==t.body.style.MozTransform)return"MozTransform"}return"transform"}function g(t,e={}){const n=document.createEvent("CustomEvent");n.initCustomEvent(t+"-gr",!0,!0,e),document.dispatchEvent(n)}},417:function(t,e,n){"use strict";var r,i;n.d(e,"b",(function(){return r})),n.d(e,"a",(function(){return i})),function(t){t.rpcLegacyMessageName="cs-to-bg-rpc-1557421403805"}(r||(r={})),function(t){t.rpcLegacyMessageName="cs-to-bg-rpc-1587687052565",t.rpcLegacyObservableName="cs-to-bg-observable-rpc-1587687052565"}(i||(i={}))},42:function(t,e,n){"use strict";n.d(e,"a",(function(){return s}));var r=n(62),i=n(256),o=n(139),c=n(191),s=function(){function t(t){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,t&&(this._unsubscribe=t)}var e;return t.prototype.unsubscribe=function(){var e;if(!this.closed){var n=this._parentOrParents,s=this._unsubscribe,u=this._subscriptions;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,n instanceof t)n.remove(this);else if(null!==n)for(var l=0;l<n.length;++l){n[l].remove(this)}if(Object(o.a)(s))try{s.call(this)}catch(t){e=t instanceof c.a?a(t.errors):[t]}if(Object(r.a)(u)){l=-1;for(var f=u.length;++l<f;){var d=u[l];if(Object(i.a)(d))try{d.unsubscribe()}catch(t){e=e||[],t instanceof c.a?e=e.concat(a(t.errors)):e.push(t)}}}if(e)throw new c.a(e)}},t.prototype.add=function(e){var n=e;if(!e)return t.EMPTY;switch(typeof e){case"function":n=new t(e);case"object":if(n===this||n.closed||"function"!=typeof n.unsubscribe)return n;if(this.closed)return n.unsubscribe(),n;if(!(n instanceof t)){var r=n;(n=new t)._subscriptions=[r]}break;default:throw new Error("unrecognized teardown "+e+" added to Subscription.")}var i=n._parentOrParents;if(null===i)n._parentOrParents=this;else if(i instanceof t){if(i===this)return n;n._parentOrParents=[i,this]}else{if(-1!==i.indexOf(this))return n;i.push(this)}var o=this._subscriptions;return null===o?this._subscriptions=[n]:o.push(n),n},t.prototype.remove=function(t){var e=this._subscriptions;if(e){var n=e.indexOf(t);-1!==n&&e.splice(n,1)}},t.EMPTY=((e=new t).closed=!0,e),t}();function a(t){return t.reduce((function(t,e){return t.concat(e instanceof c.a?e.errors:e)}),[])}},423:function(t,e,n){"use strict";function r(t,e){return[].concat(...e.map(t))}function i(t){return[].concat(...t)}function o(t){return[...new Set(t)]}function c(t,e){const n=new Set;return e.filter(e=>{const r=t(e),i=!n.has(r);return n.add(r),i})}function s(t,e,n){const r=[e];let i=e;for(let e=0;e<n.length;e++)i=t(i,n[e]),r.push(i);return r}function a(t){return t.reduce((t,e)=>e>t?e:t,t[0])}function u(t,e){return 0===t.length?void 0:t.reduce((t,n)=>{const r=e(n);return r>t[1]?[n,r]:t},[t[0],e(t[0])])[0]}function l(t){return t.slice().reverse()}function f(t,e){const n=[],r=[];let i=0,o=0;for(let c=0;c<e.length;c++)t(e[c])?n[i++]=e[c]:r[o++]=e[c];return[n,r]}function d(t,e){if(t<1)throw new Error("Invalid chunk size, expected > 0");if(0===e.length)return[[]];const n=[];for(let r=0;r<Math.ceil(e.length/t);r++)n.push(e.slice(r*t,(r+1)*t));return n}function h(t,e){const n=[];let r=t(e);for(;void 0!==r;)n.push(r[0]),r=t(r[1]);return n}function p(t,e){return void 0!==e?Array.from(Array(e-t),(e,n)=>n+t):Array.from(Array(t),(t,e)=>e)}function b(t,e=((t,e)=>t===e)){if(0===t.length)return[];const n=[[t[0]]];for(let r=1;r<t.length;r+=1){const i=n[n.length-1][0],o=t[r];e(i,o)?n[n.length-1].push(o):n.push([o])}return n}function g(t,e){return t.filter(t=>!!t).join(e)}function v(t){return null!=t}n.r(e),n.d(e,"flatMap",(function(){return r})),n.d(e,"flatten",(function(){return i})),n.d(e,"distinct",(function(){return o})),n.d(e,"distinctBy",(function(){return c})),n.d(e,"scan",(function(){return s})),n.d(e,"maximum",(function(){return a})),n.d(e,"maximumBy",(function(){return u})),n.d(e,"reverse",(function(){return l})),n.d(e,"partition",(function(){return f})),n.d(e,"chunkBySize",(function(){return d})),n.d(e,"unfold",(function(){return h})),n.d(e,"range",(function(){return p})),n.d(e,"groupBy",(function(){return b})),n.d(e,"joinNonEmpty",(function(){return g})),n.d(e,"notEmpty",(function(){return v}))},424:function(t,e,n){"use strict";n.d(e,"a",(function(){return s}));var r=n(21),i=n(62),o=n(139),c=n(44);function s(t,e,n){return n?s(t,e).pipe(Object(c.a)((function(t){return Object(i.a)(t)?n.apply(void 0,t):n(t)}))):new r.a((function(n){var r,i=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return n.next(1===t.length?t[0]:t)};try{r=t(i)}catch(t){return void n.error(t)}if(Object(o.a)(e))return function(){return e(i,r)}}))}},43:function(t,e,n){"use strict";n.r(e),function(t){n.d(e,"initMessage",(function(){return f})),n.d(e,"onBackgroundPortReconnect",(function(){return b})),n.d(e,"emitError",(function(){return g})),n.d(e,"init",(function(){return v})),n.d(e,"one",(function(){return m})),n.d(e,"on",(function(){return y})),n.d(e,"off",(function(){return _})),n.d(e,"emitTabs",(function(){return w})),n.d(e,"emitTo",(function(){return j})),n.d(e,"getTopFrameId",(function(){return O})),n.d(e,"emitFocusedTab",(function(){return x})),n.d(e,"emitBackground",(function(){return E})),n.d(e,"promiseBackground",(function(){return A}));var r=n(154),i=n(263),o=n(14),c=n(35),s=n(592),a=n(6),u=n(103);let l;function f(e){if(l)return l;const n=(t&&t.env,e);return l=n,n}function d(){return l||f((Object(o.i)()?Object(u.a)():Object(u.b)()).message)}const h=Object(r.emitter)({}),p={};function b(t){const e=d();"content-script-message-api"===e.kind&&e.onBackgroundPortReconnect&&e.onBackgroundPortReconnect(t)}const g=Object(s.a)(t=>h.emit("__bgerror",t),1e3);function v(t){f(t),Object(i.a)(document,"grammarly:offline",()=>g("proxy dead"),void 0)}function m(t,e){y(t,(function n(...r){_(t,n),e.apply(this,r)}))}function y(t,e){if("__bgerror"===t)return void h.on("__bgerror",e);const n=p[t]=p[t]||[];if(n.push(e),1===n.length)try{d().listen(t,(...t)=>{for(const e of n)e(...t)})}catch(t){g(t)}}function _(t,e){if("__bgerror"===t)return void h.off("__bgerror",e);const n=p[t];if(!n)return;const r=n.indexOf(e);-1!==r&&n.splice(r,1),0===n.length&&delete p[t]}function w(t){try{const e=d();switch(e.kind){case"background-message-api":e.broadcast(t,{});break;default:throw new Error("emitTabs can be used only on background")}}catch(t){g(t)}}function j(t,e,n={},r=a.o,i=a.o,o){try{if(!t)throw TypeError("emitTo can't be used without destination point");const c=d();switch(c.kind){case"background-message-api":c.sendTo(t,e,n,r,i,o);break;default:throw new Error("emitTo can be used only on background")}}catch(t){g(t)}}function O(){const t=d();if("background-message-api"===t.kind)return t.topFrameId;throw new Error("topFrameId can only be retreived on background")}function x(t,e){try{d().toFocused(t,e)}catch(t){g(t)}}function E(t,e,n,r){try{const i=d();switch(i.kind){case"content-script-message-api":i.broadcastBackground(t,e,n,r);break;default:throw new Error("emitBackground can be used only in content script")}}catch(t){g(t)}}function A(t,e={},n=1e4){const r=new Promise((n,r)=>{try{const i=d();switch(i.kind){case"content-script-message-api":i.broadcastBackground(t,e,n,r);break;default:throw new Error("promiseBackground can be used only on client scripts")}}catch(t){r(t),g(t)}});return Promise.race([r,Object(c.m)(n).then(()=>{throw new Error(`Request to bg page (${l}) rejected by timeout`)})])}}.call(this,n(260))},430:function(t,e,n){"use strict";var r=n(242);e.a=function(t,e){return Object(r.a)(t,e)}},431:function(t,e,n){"use strict";var r=n(255),i=n(333),o=Object(i.a)(Object.keys,Object),c=Object.prototype.hasOwnProperty;e.a=function(t){if(!Object(r.a)(t))return o(t);var e=[];for(var n in Object(t))c.call(t,n)&&"constructor"!=n&&e.push(n);return e}},432:function(t,e,n){"use strict";var r=n(14),i=n(77),o=n(35),c=n(21),s=n(88),a=n(6),u=n(463),l=n(13);class f{constructor(){this._log=l.a.create("extension-api.alarms.stub"),this._warning="Method is not implemented"}create(t,e){return this._log.warn(this._warning),{dispose:a.o}}}class d extends f{create(t,e){let n=null;const r=setTimeout(()=>{e.period&&(n=setInterval(t,e.period)),t()},e.delay);return{dispose:()=>{clearTimeout(r),null!==n&&clearInterval(n)}}}}function h(t,e){chrome.runtime.lastError?e(chrome.runtime.lastError):t()}const p=t=>async(e,n,r)=>{e&&"CODE_SPLITTING_INJECT"===e.type&&e.file&&n&&n.tab&&null!=n.tab.id&&(await t(e.file,n.tab.id,n.tab.frameId),r())};class b{constructor(){this._log=l.a.create("extension-api.managed-storage.validator")}validate(t,e){switch(t){case"GrammarlyEnrollmentToken":return"string"==typeof e&&e.length>0&&/^[a-z0-9_-]+$/i.test(e);default:return this._log.warn(`Unknown key: ${t}`),!1}}}class g{constructor(){this._log=l.a.create("extension-api.managed-storage.chrome"),this._validator=new b}get(t){return new Promise((e,n)=>{chrome.storage.managed.get(t,r=>{h(()=>{const n=r[t];void 0===n||this._validator.validate(t,n)?e(n):(this._log.warn(`Invalid value for "${t}": ${JSON.stringify(r[t])}`),e(void 0))},e=>{this._log.error(`Could not get "${t}"`,e),n(e)})})})}}var v=n(311),m=n(329);class y{constructor(){this.kind="web-extension"}open(t,e){return s.a.create((n,r)=>{chrome.tabs.create({url:t,active:e},t=>{h(()=>n(t),r)})})}updateCurrent(t){return s.a.create((e,n)=>{chrome.tabs.update({url:t},t=>{h(()=>e(t),n)})})}getActiveTab(){return s.a.create((t,e)=>{const n=chrome.tabs;n.query({active:!0,lastFocusedWindow:!0},r=>{h(()=>{r&&r.length?t(r[0]):n.query({active:!0},n=>{h(()=>{t(n[0])},e)})},e)})})}getAllTabs(){return s.a.create((t,e)=>chrome.tabs.query({},n=>h(()=>t(n),e)))}getActiveTabUrl(){return s.a.create((t,e)=>this.getActiveTab().then(n=>h(()=>t(n&&n.url),e)))}onActiveTabChange(t,e){const n=n=>{h(()=>{n&&t(n)},e)};chrome.tabs.onActivated.addListener(t=>chrome.tabs.get(t.tabId,t=>n(t))),chrome.tabs.onUpdated.addListener((t,e)=>{this.getActiveTab().then(r=>{r&&r.id===t&&(e.url||e.favIconUrl||"complete"===e.status)&&chrome.tabs.get(t,t=>n(t))})}),chrome.windows.onFocusChanged.addListener(t=>chrome.tabs.query({active:!0,windowId:t,lastFocusedWindow:!0},t=>n(t[0]))),this.getActiveTab().then(t=>n(t))}tabUrlChange(){return new c.a(t=>{const e=(e,n,r)=>{"complete"===n.status&&t.next({id:e,url:r.url})};return chrome.tabs.onUpdated.addListener(e),()=>chrome.tabs.onUpdated.removeListener(e)})}reload(t){return s.a.create((e,n)=>{const r=()=>h(()=>e(),n);t?chrome.tabs.reload(t,{},r):chrome.tabs.reload(r)})}executeScript(t,e,n){return s.a.create(r=>{chrome.tabs.executeScript(Number(e),{file:t,matchAboutBlank:!0,...n?{frameId:Number(n)}:{}}),r()})}}var _=n(45);const w=()=>fetch(_.a().appConfig.url.pageConfigUrl,{credentials:"include"}).then(t=>t.ok?t.json():t.text().then(e=>{throw{name:"RequestError",body:e,statusCode:t.status,message:t.statusText}})).then(t=>{if("string"!=typeof t&&t&&t.error)throw new Error(t.error);return t});var j=n(563);n.d(e,"a",(function(){return E})),n.d(e,"b",(function(){return A}));class O{constructor(t){this.port=chrome.runtime.connect({name:t})}onMessage(t){this.port.onMessage.addListener(t)}onDisconnect(t){this.port.onDisconnect.addListener(t)}postMessage(t){this.port.postMessage(t)}}class x{constructor(t){this._port=t,this.sender={};const{sender:e,name:n}=t;this.name=n,e&&(this.sender.url=e.url,this.sender.frameId=e.frameId,e.tab&&e.tab.url&&e.tab.id&&(this.sender.tab={url:e.tab.url,id:e.tab.id}))}onMessage(t){this._port.onMessage.addListener(t)}onDisconnect(t){this._port.onDisconnect.addListener(t)}postMessage(t){this._port.postMessage(t)}}class E{constructor(t){this.alarms=new d,this.managedStorage=new g,this.tabs=new y,this.thirdPartyExtensionsInstalled={},this.notification={kind:"web-extension",create:t=>s.a.create((e,n)=>{const r=chrome.notifications,i=Object(o.q)();r.create(i,Object.assign({type:"basic"},t),()=>{h(()=>{const t=new c.a(t=>{const e=e=>e===i&&t.next(e);return r.onClicked.addListener(e),()=>r.onClicked.removeListener(e)}),n=new c.a(t=>{const e=(e,n)=>e===i&&t.next({id:e,buttonIndex:n});return r.onButtonClicked.addListener(e),()=>r.onButtonClicked.removeListener(e)}),o=new c.a(t=>{const e=(e,n)=>e===i&&t.next({id:e,byUser:n});return r.onClosed.addListener(e),()=>r.onClosed.removeListener(e)});e({id:i,click:t,buttonClick:n,close:o})},n)})}),clear:t=>s.a.create((e,n)=>{chrome.notifications.clear(t,t=>{h(()=>e(t),n)})})},this.cookies={kind:"web-extension",get:t=>s.a.create((e,n)=>chrome.cookies.get(t,t=>h(()=>e(t),n))),remove:t=>new Promise((e,n)=>chrome.cookies.remove(t,()=>h(()=>e(null),n))),getAll:t=>s.a.create((e,n)=>chrome.cookies.getAll(t,t=>h(()=>e(t),n))),set:t=>s.a.create((e,n)=>chrome.cookies.set(t,t=>h(()=>e(t),n))),watch(t,e){chrome.cookies.onChanged.addListener(n=>{const{cookie:r,cause:i}=n;!r||!r.name||t.path&&t.path!==r.path||t.name!==r.name||t.domain&&-1===r.domain.indexOf(t.domain)||("explicit"===i&&e(r),"expired_overwrite"===i&&e())})}},this.preferences=j.a.windowLocalStorage,this.button={kind:"web-extension",setBadge(t){chrome.browserAction.setBadgeText({text:t})},setIconByName(t){const e=t?"-"+t:"";chrome.browserAction.setIcon({path:{16:`./src/icon/icon16${e}.png`,32:`./src/icon/icon32${e}.png`}})},setBadgeBackgroundColor(t){chrome.browserAction.setBadgeBackgroundColor({color:t})}},this.management={uninstallSelf(){chrome.management.uninstallSelf()}},this._baseUrl=Object(a.u)(()=>chrome.extension.getURL(""),t=>null),this.permissions={watchAdded:t=>{chrome.permissions.onAdded.addListener(t)},watchRemoved:t=>{chrome.permissions.onRemoved.addListener(t)},getAll:t=>{chrome.permissions.getAll(t)}},this.fetchBlocklistConfig=()=>w(),this.getUrl=t=>this._baseUrl?this._baseUrl+t:chrome.extension.getURL(t),this.fetchInternalResource=(t,e)=>fetch(this.getUrl(t)).then(t=>"json"===e?t.json():t.arrayBuffer()),this.openUrl=t=>this.tabs.open(t,!0),this.openPopupSubscriptionDialog=t=>this.openUrl(Object(i.o)(t.utmSource,t.utmCampaign)),this.openSubscriptionDialog=t=>Object(u.b)(t),this.isExtensionUrl=(t,e)=>this.getUrl(t)===e,this.reload=()=>chrome.runtime.reload(),this.i18n={detectLanguage:t=>s.a.create((e,n)=>chrome.i18n.detectLanguage(t,t=>h(()=>e(t),n))),getUILanguage:()=>chrome.i18n.getUILanguage(),getAcceptLanguages:()=>s.a.create((t,e)=>chrome.i18n.getAcceptLanguages(n=>h(()=>t(n),e)))},this.initCodeSplittingListener=()=>chrome.runtime.onMessage.addListener(p(this.tabs.executeScript)),this.isExtensionInstalled=async(t,e=!1)=>{if(!e&&void 0!==this.thirdPartyExtensionsInstalled[t])return this.thirdPartyExtensionsInstalled[t];if(!Object(r.j)())return!1;const n=E.thirdPartyExtensionsData[t].publicResources.reduce((e,n)=>(Object(r.m)()&&e.push(`chrome-extension://${E.thirdPartyExtensionsData[t].MSStoreId}${n}`),e.concat(`chrome-extension://${E.thirdPartyExtensionsData[t].id}${n}`)),[]);return Object(s.b)(n.map(t=>fetch(t))).then(t=>!0).catch(t=>!1)},this.message=t?new v.a(t=>chrome.runtime.onConnect.addListener(e=>t(new x(e))),this.tabs.getActiveTab.bind(this.tabs),this.tabs.getAllTabs.bind(this.tabs)):new m.a(t=>new O(t))}}function A(t){return new E(t)}E.thirdPartyExtensionsData={mseditor:{id:"gpaiobkfhnonedkhhfjpmhdalgeoebfa",MSStoreId:"hokifickgkhplphjiodbggjmoafhignh",publicResources:["/fonts/fabric-icons.css"]},office:{id:"ndjpnladcallmjemlbaebfadecfhkepb",MSStoreId:"gggmmkjegpiggikcnhidnjjhmicpibll",publicResources:["/fonts/fabric-icons.css"]}}},434:function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));var r,i=n(6),o=n(455);!function(t){t.create=function(t,e,n,r,i,o,c){const s=void 0!==o&&void 0!==c?o:"UNVERSIONED",a=`${t}.${e}.${n}`;return{version:a,fullVersion:`${a}-${[r,["prod"!==i?i:null,s!==r?s:null].filter(t=>!!t).join(".")].filter(t=>""!==t).join("/")}`,commitHash:c,gitBranch:o}},t.getManifestVersion=function(t,e,n){switch(t){case"safari":switch(e){case"bg":case"popup":return n.safari.extension.displayVersion;default:return}case"chrome":case"edge":return n.chrome.runtime.getManifest().version;case"firefox":return o.a.runtime.getManifest().version;default:return Object(i.g)(t)}}}(r||(r={}))},435:function(t,e,n){"use strict";(function(t){var r=n(332),i="object"==typeof exports&&exports&&!exports.nodeType&&exports,o=i&&"object"==typeof t&&t&&!t.nodeType&&t,c=o&&o.exports===i&&r.a.process,s=function(){try{var t=o&&o.require&&o.require("util").types;return t||c&&c.binding&&c.binding("util")}catch(t){}}();e.a=s}).call(this,n(378)(t))},437:function(t,e,n){"use strict";n.d(e,"b",(function(){return a})),n.d(e,"a",(function(){return u}));var r=n(359),i=n(13),o=n(6),c=n(88),s=n(21);class a{constructor(t,e=i.a.create(a.name)){this._transport=t,this._log=e,this._calls=new Map,this._sub=this._transport.inbound.subscribe(t=>{const e=this._calls.get(t.id);if(e)try{"err"in t?e.reject(t.err):e.resolve(t.res)}finally{this._calls.delete(t.id)}else this._log.warn(`received rpc call response for unregistered call ${t.id}`)}),this.api=new Proxy({},{get:(t,e)=>(...t)=>this._handleCall(e,t)})}_handleCall(t,e){let n=o.c.create();for(;this._calls.has(n);)n=o.c.create();const r=c.a.createCompletionSource();return this._calls.set(n,r),this._transport.outbound({id:n,method:t,args:e}),r.promise}dispose(){this._sub.unsubscribe()}}class u{constructor(t,e,n=i.a.create(u.name)){this._transport=t,this._observableTransport=e,this._log=n,this._calls=new Map,this._subscribeRelatedCalls=new Map,this._observables=new Map,this._subscribers=new Map,this._transportSubscription=this._transport.inbound.subscribe(t=>{this._processResponse(t)}),this._observableTransportSubscription=this._observableTransport.inbound.subscribe(t=>{this._processObservableMessage(t)}),this.api=new Proxy({},{get:(t,e)=>(...t)=>this._handleCall(e,t)})}_processResponse(t){const e=this._calls.get(t.id);if(e)try{if("err"in t)e.reject(t.err);else if(r.a.isObservableResult(t))try{const n=new s.a(e=>this._createSubscribeHandler(t.subscribableId,e));this._observables.set(t.subscribableId,n),e.resolve(n)}catch(e){this._observables.delete(t.subscribableId)}else e.resolve(t.res)}finally{this._calls.delete(t.id)}else this._log.warn(`received rpc call response for unregistered call ${t.id}`)}_processObservableMessage(t){if("subscribed"in t){const e=this._subscribeRelatedCalls.get(t.id);if(e)try{e.resolve()}finally{this._subscribeRelatedCalls.delete(t.id)}else this._log.warn(`received rpc call subscribed response for unregistered subscribe call ${t.id}`)}else if("unsubscribed"in t){const e=this._subscribeRelatedCalls.get(t.id);if(e)try{e.resolve()}finally{this._subscribeRelatedCalls.delete(t.id),this._subscribers.delete(t.id)}else this._log.warn(`received rpc call unsubscribed response for unregistered unsubscribe call ${t.id}`)}else if("next"in t)try{const e=this._subscribers.get(t.subscriptionId);e?e.subscriber.next(t.next):this._log.warn(`received observable next message for unregistered subscription ${t.subscriptionId}`)}catch(e){this._subscribers.delete(t.subscriptionId)}else if("complete"in t)try{const e=this._subscribers.get(t.subscriptionId);e?(e.subscriber.complete(),this._subscribers.delete(t.subscriptionId)):this._log.warn(`received observable complete for unregistered subscription ${t.subscriptionId}`)}catch(e){this._subscribers.delete(t.subscriptionId)}else if("err"in t)try{const e=this._subscribers.get(t.subscriptionId);e?e.subscriber.error(t.err):this._log.warn(`received observable error for unregistered subscription  ${t.subscriptionId}`)}finally{this._subscribers.delete(t.subscriptionId)}else if("subErr"in t){const e=this._subscribeRelatedCalls.get(t.id);try{const n=this._subscribers.get(t.id);n?n.subscriber.error(t.subErr):this._log.warn(`received subscription error response for unregistered call ${t.id}`)}finally{e&&(e.reject(t.subErr),this._subscribeRelatedCalls.delete(t.id)),this._observables.delete(t.subscribableId),this._subscribers.delete(t.id)}}else if("ping"in t)try{this._observables.get(t.ping)?this._observableTransport.outbound({pong:t.ping}):this._log.warn(`received ping for unregistered observable ${t.ping}`)}finally{Object(o.o)()}}_handleCall(t,e){let n=o.c.create();for(;this._calls.has(n);)n=o.c.create();const r=c.a.createCompletionSource();return this._calls.set(n,r),this._transport.outbound({id:n,method:t,args:e}),r.promise}_createSubscribeHandler(t,e){let n=o.c.create();for(;this._subscribeRelatedCalls.has(n);)n=o.c.create();const r=c.a.createCompletionSource();return this._subscribeRelatedCalls.set(n,r),this._observableTransport.outbound({id:n,subscribableId:t,action:"subscribe"}),this._subscribers.set(n,{subscribableId:t,subscriber:e}),()=>{this._handleUnsubscribe(n,t)}}_handleUnsubscribe(t,e){let n=o.c.create();for(;this._subscribeRelatedCalls.has(n);)n=o.c.create();const r=c.a.createCompletionSource();return this._subscribeRelatedCalls.set(n,r),this._observableTransport.outbound({id:n,subscriptionId:t,subscribableId:e,action:"unsubscribe"}),this._subscribers.delete(t),r.promise}dispose(){for(const t of this._observables.keys())this._observableTransport.outbound({id:o.c.create(),subscribableId:t,action:"dispose"});this._observables.clear(),this._transportSubscription.unsubscribe(),this._observableTransportSubscription.unsubscribe(),this._calls.clear(),this._subscribeRelatedCalls.clear()}}},44:function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var r=n(3),i=n(15);function o(t,e){return function(n){if("function"!=typeof t)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return n.lift(new c(t,e))}}var c=function(){function t(t,e){this.project=t,this.thisArg=e}return t.prototype.call=function(t,e){return e.subscribe(new s(t,this.project,this.thisArg))},t}(),s=function(t){function e(e,n,r){var i=t.call(this,e)||this;return i.project=n,i.count=0,i.thisArg=r||i,i}return r.__extends(e,t),e.prototype._next=function(t){var e;try{e=this.project.call(this.thisArg,t,this.count++)}catch(t){return void this.destination.error(t)}this.destination.next(e)},e}(i.a)},45:function(t,e,n){"use strict";n.d(e,"a",(function(){return o})),n.d(e,"b",(function(){return c}));var r=n(280);const i=new(n(6).b)(()=>{throw new Error("Global config not initialized")});function o(){return i.get()}function c(t,e,n,o){const c=r.a.create(t,e,n,o);return i.init(c),window.GR_CFG=i.get(),c}},455:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=n(6);const i=Object(r.u)(()=>browser,()=>window.browser);window.chrome=window.chrome},462:function(t,e,n){"use strict";e.a=function(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t}},463:function(t,e,n){"use strict";n.d(e,"a",(function(){return a})),n.d(e,"b",(function(){return l}));var r=n(45),i=n(77),o=n(14);function c(t){const e=t.reduce((t,e)=>{const n=t.get(e.category);return n?n.count++:t.set(e.category,{group:e.group,categoryHuman:e.categoryHuman,count:1}),t},new Map);return Array.from(e.values()).sort((t,e)=>e.count-t.count)}function s(t){const e=new Map;for(const{isFree:n,cardLayout:{group:r}}of t){e.has(r)||e.set(r,{lensName:r,free:0,premium:0});const t=e.get(r);t&&(t[n?"free":"premium"]+=1)}return Array.from(e.values()).sort((t,e)=>e.premium-t.premium)}function a(t){const e=[{title:"Grammar and punctuation errors",lensesName:["Grammar","Punctuation","Conventions"]},{title:"Inconsistent punctuation or formatting",lensesName:["Consistency"]},{title:"Hard-to-read sentences",lensesName:["Readability"]},{title:"Monotonous passages",lensesName:["Sentence Variety"]},{title:"Confusing sentences or paragraphs",lensesName:["Clarity","Sentence structure"]},{title:"Unnatural phrasing",lensesName:["Fluency"]},{title:"Ineffective vocabulary",lensesName:["Vocabulary","Variety"]},{title:"Wordiness",lensesName:["Conciseness"]},{title:"Hedging language",lensesName:["Confidence"]},{title:"Impoliteness",lensesName:["Politeness"]},{title:"Insensitive or non-inclusive language",lensesName:["Sensitivity"]},{title:"Inappropriate tone or formality level",lensesName:["Formality"]}].reduce((t,e)=>(e.lensesName.forEach(n=>t[n]=e.title),t),{});return s(t).map(t=>({...t,friendName:e[t.lensName]})).sort((t,e)=>e.premium-t.premium||t.friendName.localeCompare(e.friendName))}function u(t){return btoa(JSON.stringify(t))}function l(t){const e=r.a().appConfig.url,n=t.showPlanComparison?e.planComparison:e.upgrade;window.open(Object(i.a)(n,[...t.isFromEmail?[Object(i.b)("isFromEmail","1")]:[],Object(i.b)("alerts",u(c(t.currentAlerts))),Object(i.b)("lensedAlerts",u(s(t.currentAlerts))),Object(i.b)("app_type","popup"),Object(i.b)("browser",Object(o.b)()),...Object(i.p)({medium:"internal",source:t.isAnonymousUser?"signupHook":"upHook",campaign:t.forceUtmCampaign?t.forceUtmCampaign:t.isAnonymousUser?"extensionPremiumCta":"extensionGButton"})]))}},464:function(t,e,n){"use strict";var r=n(335),i=n(150);var o=function(t,e){return function(n,r){if(null==n)return n;if(!Object(i.a)(n))return t(n,r);for(var o=n.length,c=e?o:-1,s=Object(n);(e?c--:++c<o)&&!1!==r(s[c],c,s););return n}}(r.a);e.a=o},465:function(t,e,n){"use strict";var r;n.d(e,"a",(function(){return r})),function(t){function e(t,e){try{for(const n of Object.keys(e))if(e[n]&&e[n](t))return n;return null}catch(t){return null}}t.isSpecific={draftJs:t=>!(!t.hasAttribute("contenteditable")||!t.querySelector('[data-contents="true"] > [data-editor], [data-block]')),quill:t=>t.classList.contains("ql-editor")||t.classList.contains("ql-container"),redactor:t=>t.className.indexOf("redactor")>-1,prosemirror:t=>t.hasAttribute("pm-container")||t.classList.contains("ProseMirror"),scribe:t=>t.className.indexOf("scribe")>-1,trix:t=>t.className.indexOf("trix")>-1,"medium-editor":t=>t.className.indexOf("medium-editor")>-1,tinymce:t=>{if("IFRAME"!==t.tagName)return!1;const e=t;return e.id.indexOf("mce")>-1||!!(e.contentDocument&&e.contentDocument.querySelectorAll("#tinymce, .mce-content-body").length>0)},ckeditor4:t=>t.matches("iframe.cke_wysiwyg_frame")||t.classList.contains("cke_editable"),ckeditor5:t=>t.classList.contains("ck-editor__editable"),slate:t=>"true"===t.getAttribute("data-slate-editor"),mobiledoc:t=>t.classList.contains("__mobiledoc-editor")},t.isGeneric={contenteditable:t=>{const e=t.attributes.getNamedItem("contenteditable");return!(!e||"true"!==e.value&&""!==e.value)},textarea:t=>"TEXTAREA"===t.tagName,iframe:e=>{if("IFRAME"===e.tagName){const n=e;return!!(n.contentDocument&&n.contentDocument.body&&t.isGeneric.contenteditable(n.contentDocument.body))}return!1},iframeHost:e=>{if("IFRAME"===e.tagName){const n=e;return!(n.contentDocument&&n.contentDocument.body&&t.isGeneric.contenteditable(n.contentDocument.body))}return!1}},t.get=function(n){return{generic:e(n,t.isGeneric),specific:e(n,t.isSpecific)}}}(r||(r={}))},480:function(t,e,n){"use strict";e.a=function(t,e){return t.has(e)}},53:function(t,e,n){"use strict";n.d(e,"b",(function(){return l})),n.d(e,"a",(function(){return f}));var r=n(3),i=n(21),o=n(15),c=n(42),s=n(134),a=n(355),u=n(209),l=function(t){function e(e){var n=t.call(this,e)||this;return n.destination=e,n}return r.__extends(e,t),e}(o.a),f=function(t){function e(){var e=t.call(this)||this;return e.observers=[],e.closed=!1,e.isStopped=!1,e.hasError=!1,e.thrownError=null,e}return r.__extends(e,t),e.prototype[u.a]=function(){return new l(this)},e.prototype.lift=function(t){var e=new d(this,this);return e.operator=t,e},e.prototype.next=function(t){if(this.closed)throw new s.a;if(!this.isStopped)for(var e=this.observers,n=e.length,r=e.slice(),i=0;i<n;i++)r[i].next(t)},e.prototype.error=function(t){if(this.closed)throw new s.a;this.hasError=!0,this.thrownError=t,this.isStopped=!0;for(var e=this.observers,n=e.length,r=e.slice(),i=0;i<n;i++)r[i].error(t);this.observers.length=0},e.prototype.complete=function(){if(this.closed)throw new s.a;this.isStopped=!0;for(var t=this.observers,e=t.length,n=t.slice(),r=0;r<e;r++)n[r].complete();this.observers.length=0},e.prototype.unsubscribe=function(){this.isStopped=!0,this.closed=!0,this.observers=null},e.prototype._trySubscribe=function(e){if(this.closed)throw new s.a;return t.prototype._trySubscribe.call(this,e)},e.prototype._subscribe=function(t){if(this.closed)throw new s.a;return this.hasError?(t.error(this.thrownError),c.a.EMPTY):this.isStopped?(t.complete(),c.a.EMPTY):(this.observers.push(t),new a.a(this,t))},e.prototype.asObservable=function(){var t=new i.a;return t.source=this,t},e.create=function(t,e){return new d(t,e)},e}(i.a),d=function(t){function e(e,n){var r=t.call(this)||this;return r.destination=e,r.source=n,r}return r.__extends(e,t),e.prototype.next=function(t){var e=this.destination;e&&e.next&&e.next(t)},e.prototype.error=function(t){var e=this.destination;e&&e.error&&this.destination.error(t)},e.prototype.complete=function(){var t=this.destination;t&&t.complete&&this.destination.complete()},e.prototype._subscribe=function(t){return this.source?this.source.subscribe(t):c.a.EMPTY},e}(f)},563:function(t,e,n){"use strict";var r,i,o=n(88),c=n(93),s=n(126),a=n(430);!function(t){t[t.nonEmptyMigration=0]="nonEmptyMigration",t[t.emptyMigration=1]="emptyMigration"}(r||(r={}));class u{constructor(t,e,n,r=[]){var i,o;this._name=t,this._source=e,this._destination=n,this._destValuesToKeep=r,this._migrationFlagSuccessfulValue="ok",this._migrationFlagUniqueKey="104ccd8c-9919-9ae4-931f-782fb197486c",this._migrationFlagKey=`__migration-${this._migrationFlagUniqueKey}:(${this._name})`,this._migrationInProgress=!1,this.migrationAwareDestination=(i=this._destination,o=t=>t===this._migrationFlagKey,{get:i.get.bind(i),set:i.set.bind(i),getAll:i.getAll.bind(i),remove:i.remove.bind(i),async removeAll(){const t=await i.getAll();await i.removeAll(),await Promise.all(Object.keys(t).filter(o).map(e=>i.set(e,t[e])))}})}_getMigrated(){return this._destination.get(this._migrationFlagKey).then(t=>t===this._migrationFlagSuccessfulValue)}async _setMigrated(){await this._destination.set(this._migrationFlagKey,this._migrationFlagSuccessfulValue);const t=await this._destination.get(this._migrationFlagKey);if(t!==this._migrationFlagSuccessfulValue)throw new Error(`Could not verify status write, actual value: ${t}`)}async _runMigration(){Object(c.a)(!this._migrationInProgress,"migration already in progress"),this._migrationInProgress=!0;try{const t=await this._source.getAll(),e=0===Object.keys(t).length;if(await Promise.all(this._destValuesToKeep.map(e=>this._destination.get(e).then(n=>{null!=n&&(t[e]=n)}))),await this._destination.removeAll(),await Promise.all(Object.keys(t).filter(e=>null!=t[e]).map(e=>this._destination.set(e,t[e]))),!Object(a.a)(t,await this._destination.getAll()))throw new Error("Could not verify write");return this._migrationInProgress=!1,e?r.emptyMigration:r.nonEmptyMigration}catch(t){throw this._migrationInProgress=!1,t}}async ensureMigrationCompleted(){if(await this._getMigrated())return s.a.alreadyMigrated;{const t=await this._runMigration();switch(await this._setMigrated(),t){case r.nonEmptyMigration:return s.a.success;case r.emptyMigration:return s.a.successWithEmpty;default:throw new Error(`Match not exhaustive: ${t}`)}}}}n.d(e,"a",(function(){return i})),function(t){t.windowLocalStorage={get:t=>o.a.sync(()=>window.localStorage.getItem(t)),set:(t,e)=>o.a.sync(()=>window.localStorage.setItem(t,e)),getAll:()=>o.a.sync(()=>{const t={};return Object.keys(window.localStorage).forEach(e=>{t[e]=window.localStorage.getItem(e)}),t}),remove:t=>o.a.sync(()=>window.localStorage.removeItem(t)),removeAll:()=>o.a.sync(()=>window.localStorage.clear())};t.MigrationAwarePreferencesApiImpl=class{constructor(e){this._firefox=e,this._migrationCompleted=Promise.resolve(!1),this._ensureMigrationCompletedCalled=!1,this.get=this._getMigrationAwareMethod("get"),this.set=this._getMigrationAwareMethod("set"),this.getAll=this._getMigrationAwareMethod("getAll"),this.remove=this._getMigrationAwareMethod("remove"),this.removeAll=this._getMigrationAwareMethod("removeAll"),this.browserStorageLocal={get:async t=>{const e=await this._firefox.storage.local.get(t);return e.hasOwnProperty(t)?e[t]:null},set:(t,e)=>this._firefox.storage.local.set({[t]:e}),getAll:()=>this._firefox.storage.local.get(null),remove:t=>this._firefox.storage.local.remove(t),removeAll:async()=>{await this._firefox.storage.local.clear()}},this._migration=new u("firefoxLocalStorageToExtApi",t.windowLocalStorage,this.browserStorageLocal,["version"])}ensureMigrationCompleted(){this._ensureMigrationCompletedCalled=!0;const t=o.a.createCompletionSource();return this._migrationCompleted=t.promise,this._migration.ensureMigrationCompleted().then(e=>(t.resolve(!0),Promise.resolve(e)),e=>(t.resolve(!1),Promise.reject(e)))}_getMigrationAwareMethod(e){return(...n)=>(Object(c.a)(!0===this._ensureMigrationCompletedCalled,"supposed to run data migration before accessing prefs with web-extensions API"),this._migrationCompleted.then(r=>{return(r?this._migration.migrationAwareDestination:t.windowLocalStorage)[e](...n)}))}}}(i||(i={}))},564:function(t,e,n){n(745);var r={superfasthash:n(746),murmurhash3:n(747)};t.exports={createHash:function(t){t=t.replace(/![a-zA-z0-9]/g,"").toLowerCase();try{return r[t]}catch(t){throw new Error(t)}}}},565:function(t,e,n){"use strict";e.a=function(t){return function(e){return t(e)}}},566:function(t,e,n){"use strict";var r=n(66),i=n(75),o=function(){return i.a.Date.now()},c=n(178),s=NaN,a=/^\s+|\s+$/g,u=/^[-+]0x[0-9a-f]+$/i,l=/^0b[01]+$/i,f=/^0o[0-7]+$/i,d=parseInt;var h=function(t){if("number"==typeof t)return t;if(Object(c.a)(t))return s;if(Object(r.a)(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=Object(r.a)(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=t.replace(a,"");var n=l.test(t);return n||f.test(t)?d(t.slice(2),n?2:8):u.test(t)?s:+t},p="Expected a function",b=Math.max,g=Math.min;e.a=function(t,e,n){var i,c,s,a,u,l,f=0,d=!1,v=!1,m=!0;if("function"!=typeof t)throw new TypeError(p);function y(e){var n=i,r=c;return i=c=void 0,f=e,a=t.apply(r,n)}function _(t){var n=t-l;return void 0===l||n>=e||n<0||v&&t-f>=s}function w(){var t=o();if(_(t))return j(t);u=setTimeout(w,function(t){var n=e-(t-l);return v?g(n,s-(t-f)):n}(t))}function j(t){return u=void 0,m&&i?y(t):(i=c=void 0,a)}function O(){var t=o(),n=_(t);if(i=arguments,c=this,l=t,n){if(void 0===u)return function(t){return f=t,u=setTimeout(w,e),d?y(t):a}(l);if(v)return clearTimeout(u),u=setTimeout(w,e),y(l)}return void 0===u&&(u=setTimeout(w,e)),a}return e=h(e)||0,Object(r.a)(n)&&(d=!!n.leading,s=(v="maxWait"in n)?b(h(n.maxWait)||0,e):s,m="trailing"in n?!!n.trailing:m),O.cancel=function(){void 0!==u&&clearTimeout(u),f=0,i=l=c=u=void 0},O.flush=function(){return void 0===u?a:j(o())},O}},567:function(t,e,n){"use strict";var r=n(210),i="__lodash_hash_undefined__";var o=function(t){return this.__data__.set(t,i),this};var c=function(t){return this.__data__.has(t)};function s(t){var e=-1,n=null==t?0:t.length;for(this.__data__=new r.a;++e<n;)this.add(t[e])}s.prototype.add=s.prototype.push=o,s.prototype.has=c;e.a=s},58:function(t,e,n){"use strict";var r=Array.isArray;e.a=r},585:function(t,e){t.exports={toU8IntArray:function(t){for(var e=[],n=[],r=0;r<t.length;r++){var i,o=t.charCodeAt(r);for(n.length=0;(i=255&o)||o;)n.push(i),o>>>=8;e=e.concat(n.reverse())}return e},intToUnsignedHex:function(t){for(var e,n=[];(e=65535&t)||t;)e=e.toString(16),e="0000".slice(e.length)+e,n.push(e),t>>>=16;return n.reverse().join("")}}},590:function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var r,i,o,c=n(281);!function(t){t.create=function(t){return{type:c.b.detect(t)||"other"}}}(r||(r={})),function(t){t.create=function(t){return{isWindows:-1!==t.navigator.appVersion.indexOf("Win"),isMac:-1!==t.navigator.appVersion.indexOf("Mac"),isChromeOS:-1!==t.navigator.appVersion.indexOf("CrOS")}}}(i||(i={})),function(t){t.create=function(t){return{browser:r.create(t),os:i.create(t)}}}(o||(o={}))},591:function(t,e,n){"use strict";e.a=function(){return!1}},592:function(t,e,n){"use strict";var r=n(566),i=n(66),o="Expected a function";e.a=function(t,e,n){var c=!0,s=!0;if("function"!=typeof t)throw new TypeError(o);return Object(i.a)(n)&&(c="leading"in n?!!n.leading:c,s="trailing"in n?!!n.trailing:s),Object(r.a)(t,e,{leading:c,maxWait:e,trailing:s})}},595:function(t,e,n){"use strict";var r,i,o,c,s,a,u,l=n(6),f=n(93);!function(t){const e={chrome:"chromeExt",firefox:"firefoxExt",safari:"safariExt",edge:"chromiumEdgeExt"};t.create=function(t,n){return{appName:Object(f.b)(e[t],"gnar app name"),url:`https://gnar.${n}`,domain:`.${n}`,sendEmailInfoTracking:!0,sendFluidExperimentData:!1}}}(r||(r={})),function(t){const e={chrome:"extensionChrome",firefox:"extensionFirefox",safari:"extensionSafari",edge:"extensionEdge"},n=.01;t.create=function(t,r){return{appName:Object(f.b)(e[t],"felog app name"),sendUsageMetrics:!0,sendPerfMetrics:"dev"===r||Math.random()<=n}}}(i||(i={})),function(t){const e={chrome:"extensionChrome",firefox:"extensionFirefox",safari:"extensionSafari",edge:"extensionEdge"};t.create=function(t){return{appName:Object(f.b)(e[t],"sumologic app name")}}}(o||(o={})),function(t){t.create=function(){return{}}}(c||(c={})),(s||(s={})).create=function(t,e,n,r,i,o){const c="safari"===t?"disableAppsPromotion=true":"";function s(t){const n=`https://${t}.${e}`;return(t="",e="")=>{const r=l.a.joinNonEmpty([c,e],"&");return l.a.joinNonEmpty([n+t,r],"?")}}const a=s("www"),u=s("app"),f=s("account"),d=`https://data.${e}`,h=`https://auth.${e}/v3`,p=`wss://capi.${e}/freews`;return{accountSubscription:f("/subscription"),accountSubscriptionChangePlan:f("/subscription","popup=switchToAnnualOffer"),adminAccountSubscription:f("/admin/subscription"),app:u(),appPersonalDictionary:f("/customize"),capi:p,capiGDocs:`wss://capi.${e}/gdocs`,dapiMimic:`${d}/api/mimic`,dapiProps:`${d}/api/props/v2`,dapiFindProps:`${d}/api/props/v2/find`,editorDictionary:u("/profile/dictionary"),dictionary:`https://capi.${e}/api/defs`,docs:u("/docs"),docsApi:`https://dox.${e}/documents`,newDoc:u("/docs/new"),userOrAnonymous:`${h}/user/oranonymous`,userData:`${h}/user/userdata`,authSignin:`${h}/api/login`,authSignup:`${h}/api/signup`,authExchange:`${h}/api/unified-login/code/exchange`,authLogout:`${h}/logout`,signin:a("/signin"),signup:a("/signup"),fbSignin:a("/signin","fromExtensionFb=true"),fbSignup:a("/signup","fromExtensionFb=true"),googleSignin:a("/signin","fromExtensionGoogle=true"),googleSignup:a("/signup","fromExtensionGoogle=true"),resetPassword:a("/resetpassword"),newFelog:n,sumoLogic:r,welcomeC:a("/extension-success"),afterInstall:a("/after_install_page/"),upgrade:a("/upgrade"),planComparison:a("/plans"),businessEHomepage:a("/business/e"),businessPricing:a("/business/pricing"),uninstall:a("/extension-uninstall"),terms:a("/terms"),policy:a("/privacy-policy"),extensionSuccess:a("/extension-success"),firefoxPrivatePolicy:"https://addons.mozilla.org/en-US/firefox/addon/grammarly-1/privacy/",dynamicConfigUrl:"https://d27xxe7juh1us6.cloudfront.net/dynamicConfig.json",pageConfigUrl:"https://d27xxe7juh1us6.cloudfront.net/browserplugin/config.json",edgePopupUrl:i,emptyScriptUrl:o,grammarlyDomain:e,grammarlyProtocol:"https:"}},n.d(e,"a",(function(){return u})),function(t){t.create=function(t){return{gdocsSupported:"chrome"===t||"edge"===t||"firefox"===t||"safari"===t,denaliEditorSupported:"chrome"===t}}}(a||(a={})),function(t){const e="87677a2c52b84ad3a151a4a72f5bd3c4",n="grammarly.com",o="qagr.io",u=0;t.create=function(t,f,d,h){const p="prod"===f?"https://f-log-extension.grammarly.io":"qa"===f||"dev"===f?"https://127.0.0.1:8000":Object(l.g)(f),b="prod"===f?"https://endpoint2.collection.us2.sumologic.com/receiver/v1/http/ZaVnC4dhaV1OF-4ic11yqpre0casnyvs_ZoaCHciEYdRyBkrfwP6DMlsWt8tSVU76RPqgGvAGjXGQk_UNuxPx-pYbToJapM_Fr0CUcgKaA8_IVl-lhSr5Q==":"qa"===f||"dev"===f?"https://127.0.0.1:8000":Object(l.g)(f),g="prod"===f?n:"qa"===f||"dev"===f?o:Object(l.g)(f),v=n;return{url:s.create(t,v,p,b,d,h),gnar:r.create(t,g),felog:i.create(t,f),capi:c.create(),extensionId:e,newsVersion:u,features:a.create(t)}}}(u||(u={}))},597:function(t,e,n){"use strict";n.d(e,"b",(function(){return c})),n.d(e,"a",(function(){return s}));var r=n(437),i=n(417),o=n(314);class c extends r.b{constructor(t){super(new o.a(i.b.rpcLegacyMessageName,t))}}class s extends r.a{constructor(t){super(new o.a(i.a.rpcLegacyMessageName,t),new o.a(i.a.rpcLegacyObservableName,t))}}},6:function(t,e,n){"use strict";var r={};n.r(r),n.d(r,"find",(function(){return c}));var i=n(351),o=n(423);function c(t,e){for(const n of t.values())if(e(n))return n;return null}var s=n(352),a=n(88),u=n(84);n.d(e,"j",(function(){return l})),n.d(e,"b",(function(){return f})),n.d(e,"r",(function(){return d})),n.d(e,"g",(function(){return p})),n.d(e,"q",(function(){return b})),n.d(e,"u",(function(){return g})),n.d(e,"o",(function(){return v})),n.d(e,"m",(function(){return m})),n.d(e,"l",(function(){return y})),n.d(e,"p",(function(){return _})),n.d(e,"h",(function(){return w})),n.d(e,"t",(function(){return j})),n.d(e,"s",(function(){return O})),n.d(e,"i",(function(){return x})),n.d(e,"n",(function(){return A})),n.d(e,"c",(function(){return S})),n.d(e,"w",(function(){return C})),n.d(e,"v",(function(){return k})),n.d(e,"k",(function(){return I})),n.d(e,"a",(function(){return o})),n.d(e,"f",(function(){return s})),n.d(e,"d",(function(){return r})),n.d(e,"e",(function(){return u}));const l=i.equals;class f{constructor(t){this._getFallbackValue=t}init(t){if(void 0!==this._value)throw new Error("Global value already initialized.");this._value=t}get(){if(void 0===this._value){if(void 0===this._getFallbackValue)throw new Error("Global value not initialized and no fallback value provided.");this._value=this._getFallbackValue()}return this._value}}function d(t,e){return t.some(t=>t===e)?e:void 0}class h extends Error{constructor(t){super(`Matching not exhaustive${t?`: unexpected value ${t}`:""}`)}}function p(t){throw new h(t)}function b(t){const e=parseInt(t,10);return isNaN(e)?void 0:e}function g(t,e){try{return t()}catch(t){return e(t)}}function v(){}function m(t){return!!t}function y(t){return!t}function _(t){return null!=t}function w(t){let e,n=!1;return(...r)=>(n||(n=!0,e=t(...r)),e)}function j(t,e){let n,r,i=!0;function o(t){return i&&(i=!1,r=a.a.createCompletionSource(),setTimeout(()=>{try{r.resolve(e())}catch(t){r.reject(t)}finally{i=!0}},t)),r.promise}return()=>{const e=n;return n=Date.now(),o(void 0===e||n-e>=t?0:t-(n-e))}}function O(t,e,n){const r=n();return t>0?r.catch(r=>new Promise((t,n)=>setTimeout(t,e)).then(r=>O(t-1,e,n))):r}async function x(t,e,n=0,r=(t=>!0)){let i=e;const o=[];for(;i>0;){let e;try{i--,e={val:await t(),hasError:!1}}catch(t){e={hasError:!0,message:t&&t.message||t||""}}if(e.hasError)o.push(e.message);else if(r(e.val))return e.val;i>0&&await a.a.delay(n)}throw new Error(`Condition was not met after ${e} retries. Errors: '${o.join(";")}'`)}class E{constructor(t){this._factory=t,this._hasValue=!1}get hasValue(){return this._hasValue}get(){return this._hasValue||(this._value=this._factory(),this._hasValue=!0),this._value}}function A(t){return new E(t)}var S;!function(t){function e(){return(65536*(1+Math.random())|0).toString(16).substring(1)}t.create=function(){return e()+e()+"-"+e()+"-"+e()+"-"+e()+"-"+e()+e()+e()}}(S||(S={}));void 0!==window.requestIdleCallback&&window.requestIdleCallback;function C(t,e){const n={...t};for(const t in e){const r=e[t];void 0!==r&&(n[t]=r)}return n}function k(...t){return t}function I(t){return t.replace(/[.*+?()\[\]{}^$\\]/g,"\\$&")}},62:function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));var r=function(){return Array.isArray||function(t){return t&&"number"==typeof t.length}}()},65:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=n(161),i=new(n(160).a)(r.a)},66:function(t,e,n){"use strict";e.a=function(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}},67:function(t,e,n){"use strict";n.d(e,"a",(function(){return i})),n.d(e,"b",(function(){return o}));var r=n(21),i=new r.a((function(t){return t.complete()}));function o(t){return t?function(t){return new r.a((function(e){return t.schedule((function(){return e.complete()}))}))}(t):i}},70:function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var r=n(3),i=n(15);function o(t,e){return function(n){return n.lift(new c(t,e))}}var c=function(){function t(t,e){this.predicate=t,this.thisArg=e}return t.prototype.call=function(t,e){return e.subscribe(new s(t,this.predicate,this.thisArg))},t}(),s=function(t){function e(e,n,r){var i=t.call(this,e)||this;return i.predicate=n,i.thisArg=r,i.count=0,i}return r.__extends(e,t),e.prototype._next=function(t){var e;try{e=this.predicate.call(this.thisArg,t,this.count++)}catch(t){return void this.destination.error(t)}e&&this.destination.next(t)},e}(i.a)},745:function(t,e,n){(function(t){function n(t,e){for(var n=0,r=t.length-1;r>=0;r--){var i=t[r];"."===i?t.splice(r,1):".."===i?(t.splice(r,1),n++):n&&(t.splice(r,1),n--)}if(e)for(;n--;n)t.unshift("..");return t}function r(t,e){if(t.filter)return t.filter(e);for(var n=[],r=0;r<t.length;r++)e(t[r],r,t)&&n.push(t[r]);return n}e.resolve=function(){for(var e="",i=!1,o=arguments.length-1;o>=-1&&!i;o--){var c=o>=0?arguments[o]:t.cwd();if("string"!=typeof c)throw new TypeError("Arguments to path.resolve must be strings");c&&(e=c+"/"+e,i="/"===c.charAt(0))}return(i?"/":"")+(e=n(r(e.split("/"),(function(t){return!!t})),!i).join("/"))||"."},e.normalize=function(t){var o=e.isAbsolute(t),c="/"===i(t,-1);return(t=n(r(t.split("/"),(function(t){return!!t})),!o).join("/"))||o||(t="."),t&&c&&(t+="/"),(o?"/":"")+t},e.isAbsolute=function(t){return"/"===t.charAt(0)},e.join=function(){var t=Array.prototype.slice.call(arguments,0);return e.normalize(r(t,(function(t,e){if("string"!=typeof t)throw new TypeError("Arguments to path.join must be strings");return t})).join("/"))},e.relative=function(t,n){function r(t){for(var e=0;e<t.length&&""===t[e];e++);for(var n=t.length-1;n>=0&&""===t[n];n--);return e>n?[]:t.slice(e,n-e+1)}t=e.resolve(t).substr(1),n=e.resolve(n).substr(1);for(var i=r(t.split("/")),o=r(n.split("/")),c=Math.min(i.length,o.length),s=c,a=0;a<c;a++)if(i[a]!==o[a]){s=a;break}var u=[];for(a=s;a<i.length;a++)u.push("..");return(u=u.concat(o.slice(s))).join("/")},e.sep="/",e.delimiter=":",e.dirname=function(t){if("string"!=typeof t&&(t+=""),0===t.length)return".";for(var e=t.charCodeAt(0),n=47===e,r=-1,i=!0,o=t.length-1;o>=1;--o)if(47===(e=t.charCodeAt(o))){if(!i){r=o;break}}else i=!1;return-1===r?n?"/":".":n&&1===r?"/":t.slice(0,r)},e.basename=function(t,e){var n=function(t){"string"!=typeof t&&(t+="");var e,n=0,r=-1,i=!0;for(e=t.length-1;e>=0;--e)if(47===t.charCodeAt(e)){if(!i){n=e+1;break}}else-1===r&&(i=!1,r=e+1);return-1===r?"":t.slice(n,r)}(t);return e&&n.substr(-1*e.length)===e&&(n=n.substr(0,n.length-e.length)),n},e.extname=function(t){"string"!=typeof t&&(t+="");for(var e=-1,n=0,r=-1,i=!0,o=0,c=t.length-1;c>=0;--c){var s=t.charCodeAt(c);if(47!==s)-1===r&&(i=!1,r=c+1),46===s?-1===e?e=c:1!==o&&(o=1):-1!==e&&(o=-1);else if(!i){n=c+1;break}}return-1===e||-1===r||0===o||1===o&&e===r-1&&e===n+1?"":t.slice(e,r)};var i="b"==="ab".substr(-1)?function(t,e,n){return t.substr(e,n)}:function(t,e,n){return e<0&&(e=t.length+e),t.substr(e,n)}}).call(this,n(260))},746:function(t,e,n){"use strict";var r=n(585);function i(t,e){return t[e]<<8|t[e+1]}t.exports={hash:function(t){var e,n=r.toU8IntArray(t+""),o=0;if(!t)return o.toString(16);var c=n.length,s=0;e=3&c,c>>>=2;for(var a=0;a<c;a++)o=(o+=i(n,s))<<16^(i(n,s+2)<<11^o),s+=4,o+=o>>11;switch(e){case 3:o+=i(n,s),o^=o<<16,o^=n[s+2]<<18,o+=o>>11;break;case 2:o+=i(n,s),o^=o<<11,o+=o>>17;break;case 1:o+=n[s],o^=o<<10,o+=o>>1}return o^=o<<3,o+=o>>5,o^=o<<4,o+=o>>17,o^=o<<25,o+=o>>6,r.intToUnsignedHex(o)}}},747:function(t,e,n){"use strict";var r=n(585);function i(t,e){return(65535&t)*e+(((t>>>16)*e&65535)<